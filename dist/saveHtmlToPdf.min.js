angular.module("htmlToPdfSave",[]),angular.module("htmlToPdfSave").directive("pdfSaveButton",["$rootScope","$pdfStorage",function(t,e){return{restrict:"A",link:function(n,a,o){e.pdfSaveButtons.push(a),n.buttonText="Button",a.on("click",function(){var e=o.pdfSaveButton,n=o.pdfName;t.$broadcast("savePdfEvent",{activePdfSaveId:e,activePdfSaveName:n})})}}}]),angular.module("htmlToPdfSave").directive("pdfSaveContent",["$rootScope","$pdfStorage",function(t,e){return{link:function(t,n,a){e.pdfSaveContents.push(n);var o=t.$on("savePdfEvent",function(t,a){function o(t,e){return t==e}function d(t,e){f(t,e)}function f(t,e){function n(){a().then(function(t){console.log("resolved get canvas");var e=t.toDataURL("image/png"),n=new jsPDF({unit:"px",format:"a4"});n.addImage(e,"JPEG",20,20),n.save(c),o.width(d)})}function a(){return o.width(1.33333*f[0]-80).css("max-width","none"),html2canvas(o,{imageTimeout:2e3,removeContainer:!0})}var o=$("[pdf-save-content="+e+"]"),d=o.width(),f=[595.28,841.89];$("body").scrollTop(0),n()}for(var i=n,v=i[0].getAttribute("pdf-save-content"),r=e.pdfSaveContents,u=a.activePdfSaveId,c=a.activePdfSaveName||"default.pdf",s=0;s<r.length;s++)if(o(u,v)){var l=r[s],p=l[0],S=p.getAttribute("pdf-save-content");if(o(S,u)){console.log("Id is same"),d(r,S);break}}});t.$on("$destroy",o)}}}]),angular.module("htmlToPdfSave").service("$pdfStorage",function(){this.pdfSaveButtons=[],this.pdfSaveContents=[]}).service("pdfSaveConfig",function(){this.pdfName="default.pdf"});